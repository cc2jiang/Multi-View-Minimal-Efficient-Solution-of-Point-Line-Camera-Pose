function [R_all,t_all] = recover_T(A,X_3,X_4,Y_3,Y_4,B,t_y)
    R_all=[]; t_all=[];
    for i=1:2
        R11=(   (A(3,6)*A(1,7)-A(1,6)*A(3,7))/(A(1,6)*A(3,1))     -...
            A(3,2)*(Y_3-Y_4)/(  A(3,1)*(X_3*Y_4-X_4*Y_3)  )         )*t_y(i)  +(A(1,6)*B(3)-A(3,6)*B(1))/(A(1,6)*A(3,1));   
        R31=(   (A(4,8)*A(2,7)-A(2,8)*A(4,7))/(A(2,8)*A(4,3))     -...
            A(4,2)*(Y_3-Y_4)/(  A(4,3)*(X_3*Y_4-X_4*Y_3)  )         )*t_y(i)  +(A(2,8)*B(4)-A(4,8)*B(2))/(A(2,8)*A(4,3));
    
        R21=(Y_3-Y_4)/(X_3*Y_4-X_4*Y_3)*t_y(i);
        
        R22=-X_3/Y_3*R21-1/Y_3*t_y(i);
        
        R23_v1=sqrt(1-R21^2-R22^2);
        R23_v2=-sqrt(1-R21^2-R22^2);
        
        t_all(1,2*i-1:2*i)=-A(1,7)/A(1,6)*t_y(i)+B(1)/A(1,6);
        t_all(2,2*i-1:2*i)=t_y(i);
        t_all(3,2*i-1:2*i)=-A(2,7)/A(2,8)*t_y(i)+B(2)/A(2,8);
    
        else_R_v1=1/(R22^2+R23_v1^2)*[-R11*R21*R22+R23_v1*R31;
            -R11*R21*R23_v1-R22*R31;
            -R21*R22*R31-R11*R23_v1;
            -R21*R23_v1*R31+R11*R22];
        
        else_R_v2=1/(R22^2+R23_v2^2)*[-R11*R21*R22+R23_v2*R31;
            -R11*R21*R23_v2-R22*R31;
            -R21*R22*R31-R11*R23_v2;
            -R21*R23_v2*R31+R11*R22];
        
        R_all(:,:,2*i-1)=[R11,else_R_v1(1),else_R_v1(2);
              R21,R22,R23_v1;
              R31,else_R_v1(3),else_R_v1(4)];
          
        R_all(:,:,2*i)=[R11,else_R_v2(1),else_R_v2(2);
              R21,R22,R23_v2;
              R31,else_R_v2(3),else_R_v2(4)];
    end

end

